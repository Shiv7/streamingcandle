# Curated Signal System Configuration
# This is a SEPARATE configuration that doesn't affect existing systems

curated:
  enabled: true  # Set to false to disable curated system

  # Structure detection
  structure:
    swing-lookback: 2              # Bars before/after for swing detection
    compression-threshold: 1.5      # ATR multiplier for "tight coil"
    max-candle-history: 20          # Candles to keep in memory

  # Breakout detection
  breakout:
    min-tf-confirmations: 2         # out of 3 timeframes (1m, 2m, 3m)
    volume-multiplier: 2.0          # Abnormal volume threshold
    kyle-lambda-percentile: 75      # Percentile for Kyle's Lambda spike
    zscore-threshold: 2.0           # Volume Z-score threshold

  # Retest entry
  retest:
    pivot-tolerance-percent: 0.005  # 0.5% tolerance for pivot touch
    min-risk-reward: 1.5            # Minimum R:R to accept entry
    max-wait-bars: 30               # Max bars to wait for retest

  # Scoring thresholds
  scoring:
    min-curated-score: 50.0         # Minimum score to emit signal
    high-conviction-score: 80.0     # Score for high conviction
    normal-conviction-score: 60.0   # Score for normal conviction

  # Position sizing
  position:
    high-conviction-multiplier: 1.5
    normal-conviction-multiplier: 1.0
    low-conviction-multiplier: 0.7

# Kafka topics (NEW topic, doesn't conflict with existing)
kafka:
  topics:
    curated-signals: trading-signals-curated

# Logging
logging:
  level:
    com.kotsin.consumer.curated: INFO
